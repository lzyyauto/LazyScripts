# ShellTask 脚本库整理报告

本文档整理并梳理了 `ShellTask` 及其 `Unorganized` 目录下的所有 Shell 脚本，按功能进行了分类说明。

## 📂 核心工具 (ShellTask 根目录)

这些脚本通常较为完善，带有参数检查或日志记录功能。

### 1. 系统维护与备份

- **`backup_immich_library.sh`**
  - **功能**: 后台压缩 Immich 媒体库 (`/mnt/user/Immich/library/admin`)。
  - **特点**: **自动转入后台运行 (`nohup`)**，支持进度百分比日志输出。带有用法说明 (`-h`)，支持 `-f` 前台运行。
  - **任务控制**: 支持使用 `-s` 选项手动停止正在运行的后台备份任务。
- **`update_permissions.sh`**
  - **功能**: 递归更新指定目录的权限。
  - **规则**: 文件设为 `640`，目录设为 `777`，所有权设为 `nobody:users`。自带进度显示和日志。
- **`cleanup_directory.sh`** [NEW]
  - **功能**: **联合清理工具**。顺序调用 `del_hide_file.sh` 和 `clean_empty_folder.sh`。
  - **用途**: 一键删除隐藏文件后再清理空目录。

### 2. 文件清理与统计

- **`clean_empty_folder.sh`**
  - **功能**: 递归清理指定目录下的所有空文件夹。
- **`del_hide_file.sh`**
  - **功能**: 删除指定目录及其子目录中所有以 `.` 开头的隐藏文件（如 `.DS_Store`）。
- **`statistics.sh`**
  - **功能**: 统计指定目录下各种文件扩展名的数量及总文件数。

### 3. 媒体整理与改名

- **`mv_pic.sh`**
  - **功能**: 扫码图片下载目录，通过正则匹配“作者名”，并将其移动到按作者命名的文件夹中。
- **`rename_op.sh`**
  - **功能**: 针对《海贼王》视频文件的重命名脚本，转换成 `剧名 - SxxExx - 标题` 格式。
- **`rename_exe_to_zip.sh`**
  - **功能**: 将 `.exe` 文件（通常是伪装的压缩包）移动到临时目录并重命名为 `.zip`。

### 4. 压缩包工具

- **`unzip_with_password.sh`**
  - **功能**: 批量解压当前或指定目录下的 ZIP 文件。
  - **特点**: 使用固定密码 `reduwallpaper`。

---

## 📁 待整理/特定任务脚本 (Unorganized 子目录)

这些脚本通常用于特定的一次性任务、特定动漫/漫画项目，或处于开发阶段。

### 1. 漫画/动漫专项

- **`findQue.sh`**: 检查《海贼王》彩色版漫画是否存在缺失的话数。
- **`mhzip.sh`**: 针对“星期一的丰满”漫画，将子文件夹批量压缩为对应的 zip 并删除原文件夹。
- **`rename_jojo.sh`**: 批量重命名 JOJO 第 6 部（石之海）和第 7 部（飙马野郎）的漫画文件。
- **`renameHH.sh`** & **`renameHH2.sh`**: 针对《全职猎人 (1999)》的重命名，`renameHH2` 包含集数偏移计算（-62）。
- **`mvH.sh`**: 过滤并移动特定的漫画文件夹。

### 2. 通用文件处理

- **`organize_files.sh`**: 将文件移动到以其自身命名的同名文件夹中。
- **`rename.sh`**: 规范化文件名，将符合 `字母-数字` 格式的部分转换为全大写。
- **`renamePlus.sh`**: 为目录下所有文件批量添加指定前缀。
- **`all_file.sh`**: 生成当前目录的文件清单，排除 `./Pic` 目录。

### 3. 其他

- **`bak_docker.sh`**: 极其简易的备份脚本，直接 `cp -r` 备份 Docker 目录。
- **`boom.sh`**: 运行 `smsboom` 容器的快捷脚本。
- **`unzip_with_password.sh`**: 另一个解压脚本，支持通过命令行参数传递密码。